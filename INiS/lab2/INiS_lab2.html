<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" type="text/css" href="./lab2.css">
    <title>INiS</title>
  </head>
  <body>
    <button onclick="main()">я кнопка</button>
    <script>
        function main(){
            var  personalMovieDB = 
            {
                privat:false,
                movies:{}
            }
            if(!personalMovieDB.privat){
            for (let i = 0; i < 3; i++){
                var movieName = ''
                while(movieName===''||movieName.length>50){
                    movieName = prompt('Один из последних просмотренных фильмов?', '')
                    console.log(movieName)
                }
                var movieRating = ''
                while(movieRating===''){
                    movieRating = prompt('На сколько оцените его?', '')
                    console.log(movieRating)
                }
                personalMovieDB.movies[movieName]=movieRating
            }
            const body = document.body;
            const tbl = document.createElement('table')
            const tr = tbl.insertRow();
            const movieNameHeader = tr.insertCell()
            const movieRatingHeader = tr.insertCell()
            movieNameHeader.appendChild(document.createTextNode('Название фильма'))
            movieRatingHeader.appendChild(document.createTextNode('Рейтинг'))
            for (var movie in personalMovieDB.movies){
                const tr = tbl.insertRow();
                const movieName = tr.insertCell()
                const movieRating = tr.insertCell()
                movieName.appendChild(document.createTextNode(movie))
                movieRating.appendChild(document.createTextNode(personalMovieDB.movies[movie]))
            }
            console.log(tbl)
            const p = document.createElement('p')
            p.appendChild(document.createTextNode('Мои фильмы:'))
            body.appendChild(p)
            const div = document.createElement('div')
            body.appendChild(div)
            // div.appendChild(tbl)
            body.appendChild(tbl)
            }
        }
    </script>
  </body>
</html>